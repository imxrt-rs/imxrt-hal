# 'build-' aliases intentionally do not specify an ARM target.
# We expect them to build for host targets, so that we can include
# unit tests. To build for an ARM target, pass the target flags when
# invoking the alias.
#
# On the other hand, 'run-' aliases specify the target, since these
# programs can't run on your host. To build a release build, pass in
# '--release' with the 'run-' alias.

[alias]
# IMXRT1010EVK aliases.
build-imxrt1010evk = [
    "build",
    "--package=imxrt-hal-examples",
    "--features=imxrt-hal-examples/imxrt1010evk",
    "--target-dir=target/imxrt1010evk",
]
run-imxrt1010evk = [
    "run",
    "--package=imxrt-hal-examples",
    "--features=imxrt-hal-examples/imxrt1010evk",
    "--target-dir=target/imxrt1010evk",
    "--target=thumbv7em-none-eabihf",
]

# Teensy4 aliases.
build-teensy4 = [
    "build",
    "--package=imxrt-hal-examples",
    "--features=imxrt-hal-examples/teensy4",
    "--target-dir=target/teensy4",
]
run-teensy4 = [
    "run",
    "--package=imxrt-hal-examples",
    "--features=imxrt-hal-examples/teensy4",
    "--target-dir=target/teensy4",
    "--target=thumbv7em-none-eabihf"
]

[target.thumbv7em-none-eabihf]
rustflags = [
    "-C", "link-arg=-Tlink.x",
]
runner = [
    "cargo", "run",
    "--package=imxrt-hal-tools",
    "--",
]
